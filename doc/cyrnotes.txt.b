	   Демос Командер - особенности реализации
	   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
		       Версия 3.5.0
			   для

		    *  SCO Xenix 286
		    *  SCO Xenix 386
		    *  SCO Unix 386
		    *  Interactive 386/ix
		    *  Interactive Unix 386


1. Предисловие

Данний документ описывает особенности реализации
системы Демос Командер версии 3.5.0.

Copyright (c) 1989, 1990, 1991 Демос/*, Москва.

2. Документация

Комплект документации, сопроводающий данную версию Демос
Командера включает:

    *  Особенности реализации

    *  Руководство пользователя

    *  Справочное руководство

Особенности реализации и Справочное руководство находятся на
дистрибутивном носителе в файлах /usr/lib/deco/RUSREADME и
/usr/lib/deco/rusref.lp. Справочное руководство на
английском языке находится в файле /usr/lib/deco/ref.lp.

3. Требования к системе

    Аппаратное обеспечение

    *  Размер процесса 300 килобайт или операционная система
       с виртуальной памятью

    *  350 килобайт свободного пространства для установки
       версии Демос Командера

    *  Терминал должен иметь не менее 80-ти символов
       в строке и возможность прямой адресации курсора

    Программное обеспечение

    *  Система должна иметь установленную базу данных
       терминалов termcap

3. Содержимое дистрибутивного носителя

Данный дистрибутив содержит следующие файлы:

    /usr/bin/deco             - Демос Командер
    /usr/lib/deco/README      - Особенности реализации (англ.)
    /usr/lib/deco/RUSREADME   - Особенности реализации (рус.)
    /usr/lib/deco/ref.man     - Справочное руководство (англ.)
    /usr/lib/deco/rusref.man  - Справочное руководство (рус.)
    /usr/lib/deco/INSTALL     - командный файл установки пакета
    /usr/lib/deco/UNINSTALL   - командный файл удаления пакета
    /usr/lib/deco/termcap     - дополнение к termcap
    /usr/lib/deco/profile     - описание действий по расширениям
    /usr/lib/deco/menu        - меню пользователя по умолчанию
    /usr/lib/deco/help/       - файлы справок

4. Установка Демос Командера

Для установки Вам понадобятся серийный номер дистрибутива
и ключ, приведенные на лицензионной карточке, поставляемой
вместе с дистрибутивом.

Установка Демос Командера промзводится согласно следующей схеме:

    *  Войдите в систему под именем суперпользователя.

    *  Создайте временный справочник и перейдите в него:

	    mkdir /tmp/deco
	    cd /tmp/deco

    *  Вставьте дискету с дистрибутивом в дисковод 0.

    *  Считайте дистрибутив с носителя в текущий каталог:

	    tar xvbf 18 /dev/rfd048ds9

    *  Запустите командный файл установки:

	    ./INSTALL

    *  В процессе установки будут запрошены серийный номер
       дистрибутива и ключ.  Введите их значения.

    *  После завершения установки удалите временный каталог:

	    cd /tmp
	    rm -r deco

Чтобы удалить Демос Командер из операционной системы, вызовите
командный файл /usr/lib/deco/UNINSTALL.

Для запуска Демос Командера на системной консоли Xenix можно
использовать тип терминала 'ansi' или 'xenix'. Фактически,
тип 'ansi' не совпадает со строгим ansi стандартом, а содержит
некоторые специфические для Xenix особенности. Если же вы
работаете на строгом ansi-устройстве, нужно использовать
тип терминала TERM=trueansi.

Для установки типа терминала служат команды:

    $ TERM=termtype
    $ export TERM

в shell, или

    % setenv TERM termtype

в cshell.

5. Добавление нового типа терминала.

Демос командер управляет терминалом, используя базу данных
терминалов termcap. Командер имеет собственный файл-дополнение
/usr/lib/deco/termcap, который считывается перед стандартным
/etc/termcap. Косвенные ссылки вида tc=name в файле-дополнении
ссылаются на вход с именем 'name' в стандартной базе данных
терминалов. Можно вместо стандартного файла /etc/termcap
использовать свой собственный, присвоив глобальной переменной
TERMCAP его полное имя (например,, TERMCAP=/usr/my/termcap).

Описатели termcap, используемые Демос Командером, приведены
ниже (см. termcap(M)).

Базовые описатели:

    li#     - количество строк
    co#     - количество символов в строке
    cl=     - стирание экрана
    cm=     - адресация курсора
    ms      - разрешение адресации курсора в режиме выделения
    ti=     - включение режима адресации курсора
    te=     - выключение режима адресации курсора
    ks=     - включение дополнительной клавиатуры
    ke=     - выключение дополнительной клавиатуры
    is=     - инициализация терминала
    if=     - файл инициализации терминала
    fs=     - приведение терминала в исходное состояние

Прокрутка:

    al=     - вставка строки в текущей позиции
    dl=     - удаление строки в текущей позиции
    cs=     - установка окна прокрутки (аналог. cm)
    sf=     - прокрутка вперед
    sr=     - прокрутка назад

Атрибуты:

    vs=     - разрешение переключения атрибутов
    ve=     - запрет переключения атрибутов
    so=     - включение инверсии
    se=     - выключение инверсии
    md=     - установка повышенной яркости
    mh=     - установка пониженной яркости
    mr=     - установка инверсии (если не so)
    me=     - выключение всех атрибутов

Управление цветом:

    Nf#   * - количество основных цветов
    Nb#   * - количество цветов фона
    Cf=   * - установка основного цвета (аналог. cm)
    Cb=   * - установка фонового цвета (аналог. cm)
    Mf=   * - последовательность основных цветов
    Mb=   * - последовательность цветов фона
    C2    * - признак одновременной установки цветов

Псевдографика:

    gs=   * - включение режима псевдографики
    ge=   * - включение режима псевдографики
    g1=   * - одиночные символы псевдографики
    g2=   * - двойные символы псевдографики

Клавиатура:

    kl=     - курсор влево
    kr=     - курсор вправо
    ku=     - курсор вверх
    kd=     - курсор вниз
    kh=     - курсор в начало экрана
    kN=   * - следующая страница
    kP=   * - предыдущая страница
    kI=   * - вставка (Insert)
    kD=   * - удаление (Delete)
    kH=   * - курсор в конец экрана (End)
    f1=   * - клавиша F1
    f2=   * - клавиша F2
    f3=   * - клавиша F3
    f4=   * - клавиша F4
    f5=   * - клавиша F5
    f6=   * - клавиша F6
    f7=   * - клавиша F7
    f8=   * - клавиша F8
    f9=   * - клавиша F9
    f0=   * - клавиша F10
    k1=   * - клавиша F1
    k2=   * - клавиша F2
    k3=   * - клавиша F3
    k4=   * - клавиша F4
    k5=   * - клавиша F5
    k6=   * - клавиша F6
    k7=   * - клавиша F7
    k8=   * - клавиша F8
    k9=   * - клавиша F9
    k0=   * - клавиша F10

Описатели, отсутствующие в стандартном файле termcap,
отмечены символом '*'.

Описатели cm, cs, Cf, Cb имеют формат tgoto.
Подробно он описан в системной документации по termcap(M).
Некоторые терминалы, однако, имеют более сложный формат
управляющих кодов. В этом случае можно использовать формвт
tparm (см. terminfo(M)). Демос Командер распознает формат
tgoto или tparm автоматически.

Описатели псевдографики g1 и g2 состоят из 11 символов
в следующем порядке: горизонтальная линия, вертикальная линия,
нижний левый угол, нижнее Т, нижний правый угол,
левое Т, крест, правое Т,
верхний левый угол, верхнее Т, верхний правый угол.

6. Выбор языка диагностики.

Вы можете выбрать язык подсказки посредством установки
глобальной переменной MSG.  Данная реализация поддерживает
пять языков, в соответствии со следующей таблицей:

	  MSG   Язык
	 -----------------
	   e    Английский
	   d    Немецкий
	   f    Французский
	   r    Русский
	   u    Украинский

Можно добавлять новые языки, создавая соответствующие файлы
в каталоге /usr/lib/deco/help.

7. Недостатки данной версии

Отсутствует подстройка цветовой палитры по вкусу пользователя.

Нельзя установить язык диагностики из меню. Нужно пользоваться
глобальной переменной MSG.
